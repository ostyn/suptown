<template>
  <div if.bind="!selected">
    <div>${issue.title}</div>
    <!-- https://m.xkcd.com/2170/ -->
    <div>${issue.latlng.lat.toFixed(5)}, ${issue.latlng.lng.toFixed(5)}</div>
    <div>${issue.description}</div>
    <i class.bind="'fa fa-' + getIssueTypeGlyph(issue.issueType)"></i>
  </div>
  <div if.bind="selected">
    <div><input value.bind="issue.title"></div>
    <textarea style="width:calc(100% - 10px)" value.bind="issue.description"></textarea>
    <select value.bind="issue.issueType">
      <option disabled>Select...</option>
      <option repeat.for="issueTypeOption of items()" model.bind="issueTypeOption">
        ${getIssueTypeName(issueTypeOption)}
      </option>
    </select>
  </div>
  <button click.trigger="issueService.removeIssue(issue.id)">delete</button>
  <button click.trigger="log()">log</button>
</template>
