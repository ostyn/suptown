(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,i){i("GAND"),i("GmYv"),e.exports=i("b9nV")},"3Fm7":function(e,t,i){"use strict";var n=i("Wcq6"),r=(i("6nsN"),i("5x/H"),{projectId:"suptown-84663",apiKey:"AIzaSyCNsnyDqldy6BSIEZJb7oJz4SefaEBDrHA",signInOptions:[{provider:n.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!0}],authDomain:"http://localhost:8080"});n.apps.length||n.initializeApp(r),t.a=n},Issue:function(e,t,i){"use strict";i.r(t),i.d(t,"Issue",function(){return f});var n,r,s,a,o,l,u,c=i("aurelia-framework"),d=i("aurelia-dialog"),p=i("IssueView");function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},s),r&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(r):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var f=Object(c.e)(d.DialogService)((l=o=function(){function e(e){g(this,"issue",s,this),g(this,"selected",a,this),this.dialogService=e}var t=e.prototype;return t.getIssueTypeGlyph=function(t){return e.getIssueTypeGlyph(t)},e.getIssueTypeGlyph=function(t){return t&&e.mapping[t]?e.mapping[t].glyph:"not-available"},t.view=function(){this.selected&&this.dialogService.open({viewModel:p.IssueView,model:{id:this.issue.id},lock:!1})},e}(),o.GOOD="GOOD",o.BAD="BAD",o.IDEA="IDEA",o.QUESTION="QUESTION",o.mapping=((u={})[o.GOOD]={glyph:"thumbs-up",name:"Good"},u[o.BAD]={glyph:"thumbs-down",name:"Bad"},u[o.IDEA]={glyph:"lightbulb",name:"Idea"},u[o.QUESTION]={glyph:"question",name:"Question"},u),s=h((r=l).prototype,"issue",[c.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=h(r.prototype,"selected",[c.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=r))||n},"Issue.html":function(e,t){e.exports='<template>\n  <div>\n    <div><i class.bind="\'fa fa-\' + getIssueTypeGlyph(issue.issueType)"></i> ${issue.title}</div>\n    <div if.bind="selected">${issue.author}</div>\n    <div if.bind="selected">Created ${issue.dateCreated}</div>\n    <button if.bind="selected" click.trigger="view($event)">view issue</button>\n  </div>\n</template>\n'},IssueList:function(e,t,i){"use strict";i.r(t),i.d(t,"IssueList",function(){return c});var n,r,s,a,o=i("aurelia-framework");function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},s),r&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(r):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var c=(r=u((n=function(){function e(){l(this,"selectedMarkerId",r,this),l(this,"selectMarker",s,this),l(this,"issues",a,this),this.selectedMarkerIdChanged=this.selectedMarkerIdChanged.bind(this)}return e.prototype.selectedMarkerIdChanged=function(){var e=this;setTimeout(function(){var t=document.getElementById("issueNum"+e.selectedMarkerId);t&&t.scrollIntoView({behavior:"smooth",block:"center"})},1)},e}()).prototype,"selectedMarkerId",[o.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(n.prototype,"selectMarker",[o.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(n.prototype,"issues",[o.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)},"IssueList.html":function(e,t,i){e.exports='<template>\n  <require from="./Issue"></require>\n  Issues\n    <Issue id.bind="\'issueNum\'+id" click.trigger="selectMarker({id:id})" selected.bind="id == selectedMarkerId" class.bind="(id == selectedMarkerId)? \'selected\' : \'unselected\'" repeat.for="[id, issue] of issues" issue.bind="issue"></Issue>\n</template>\n'},IssueView:function(e,t,i){"use strict";i.r(t),i.d(t,"IssueView",function(){return f});var n,r=i("aurelia-framework"),s=i("aurelia-dialog"),a=i("M3lk"),o=i("VKKZ"),l=i("Issue"),u=i("4R65"),c=(i("rco4"),i("qQke")),d=i("4ysu"),p=i("3Fm7");function g(e,t,i,n,r,s,a){try{var o=e[s](a),l=o.value}catch(e){return void i(e)}o.done?t(l):Promise.resolve(l).then(n,r)}function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=Object(r.e)(s.DialogController,s.DialogService,a.a,c.a)(n=function(){function e(e,t,i,n){var r=this;this.editing=!1,this.controller=e,this.dialogService=t,this.issueService=i,this.http=n,p.a.auth().onAuthStateChanged(function(e){r.user=e||void 0})}var t,i,n,r=e.prototype;return r.determineActivationStrategy=function(){return d.d.replace},r.activate=function(e){if(void 0!==e.id){var t=this.issueService.getIssue(e.id);t&&(this.issue=t)}else e.latlng&&(this.issue={latlng:e.latlng},this.beingEditedIssue={latlng:e.latlng});this.newIssue=e.newIssue,this.editing=e.editing},r.attached=function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,i,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.map=u.map(this.mapId,{zoomControl:!1,attributionControl:!1}).setView([this.issue.latlng.lat,this.issue.latlng.lng],14),this.map.addLayer(u.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{maxZoom:19,minZoom:4})),e.next=5,this.http.fetch("https://nominatim.openstreetmap.org/search.php?q=ada+county+Idaho&polygon_geojson=1&format=geojson");case 5:return t=e.sent,e.next=8,t.json();case 8:i=e.sent,this.activeRegion=u.geoJson(i,{style:{color:"#000",weight:1,opacity:1,fillOpacity:0}}),this.activeRegion.addTo(this.map),this.marker=new u.marker(this.issue.latlng,{icon:this.getIcon(this.issue)}).addTo(this.map),this.editing&&this.marker.dragging.enable(),this.marker.on("dragend",function(e){0==o.pointInLayer(e.target._latlng,r.activeRegion).length?r.marker.setLatLng(n):(r.marker.setLatLng(e.target._latlng),r.beingEditedIssue.latlng=e.target._latlng)}),this.marker.on("dragstart",function(e){n=e.target._latlng});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,i=arguments;return new Promise(function(n,r){var s=e.apply(t,i);function a(e){g(s,n,r,a,o,"next",e)}function o(e){g(s,n,r,a,o,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}(),r.getIcon=function(t){return u.Icon.Glyph.MDI=u.Icon.Glyph.extend({options:{prefix:"fas",iconUrl:"marker.png",shadowUrl:"shadow.png",iconAnchor:[24,48],shadowSize:[48,48],iconSize:[48,48],shadowAnchor:[0,28]}}),u.icon.glyph.mdi=function(e){return new u.Icon.Glyph.MDI(e)},u.icon.glyph.mdi({prefix:"fas",glyph:e.getIssueTypeGlyph(t.issueType),glyphSize:"18px",glyphAnchor:[0,-6]})},r.setIssueType=function(e){this.beingEditedIssue.issueType=e,this.marker.setIcon(this.getIcon(this.beingEditedIssue))},r.items=function(){return Object.keys(l.Issue.mapping)},r.getIssueTypeName=function(e){return l.Issue.mapping[e].name},r.getIssueTypeGlyph=function(t){return e.getIssueTypeGlyph(t)},e.getIssueTypeGlyph=function(e){return e&&l.Issue.mapping[e]?l.Issue.mapping[e].glyph:"not-available"},r.delete=function(){this.issueService.removeIssue(this.issue.id),this.controller.cancel()},r.edit=function(){this.marker.dragging.enable(),this.editing=!0,this.beingEditedIssue=JSON.parse(JSON.stringify(this.issue))},r.cancelEdit=function(){this.marker.dragging.disable(),this.marker.setIcon(this.getIcon(this.issue)),this.marker.setLatLng(this.issue.latlng),this.editing=!1},r.submit=function(){this.marker.dragging.disable(),this.editing=!1,this.marker.setIcon(this.getIcon(this.beingEditedIssue));var e=this.issueService.upsertIssue(this.beingEditedIssue);this.beingEditedIssue=void 0,this.issue=e},t=e,(i=[{key:"mapId",get:function(){return"map"+(this.issue.id||"newIssue")}}])&&h(t.prototype,i),n&&h(t,n),e}())||n},"IssueView.html":function(e,t){e.exports='<template>\n  <div class="issueView" if.bind="issue">\n    <div>\n      <h2 if.bind="!editing"><i class.bind="\'fa fa-\' + getIssueTypeGlyph(issue.issueType)"></i> ${issue.title}</h2>\n      <div if.bind="editing">\n        <span\n          class.bind="(beingEditedIssue.issueType == issueType)? \'issueTypeOption selectedIssueType\' : \'issueTypeOption\'"\n          repeat.for="issueType of items()" click.trigger="setIssueType(issueType)">\n          ${getIssueTypeName(issueType)} <span class.bind="\'fa fa-\' + getIssueTypeGlyph(issueType)"></span>\n        </span>\n      </div>\n      <input if.bind="editing" value.bind="beingEditedIssue.title">\n      <div>${issue.author}</div>\n      <div id.bind=\'mapId\' class="modalMap"></div>\n      <div if.bind="!editing">${issue.description}</div>\n      <textarea if.bind="editing" value.bind="beingEditedIssue.description"></textarea>\n      <div if.bind="issue.dateUpdated">Updated ${issue.dateUpdated}</div>\n      <div>Created ${issue.dateCreated}</div>\n    </div>\n    <div>\n      <button if.bind="!newIssue  && user" click.trigger="delete()">delete</button>\n      <button if.bind="!editing && user" click.trigger="edit()">edit</button>\n      <button if.bind="editing" click.trigger="submit()">submit</button>\n      <button if.bind="!editing || newIssue" click.trigger="controller.cancel()">close</button>\n      <button if.bind="editing && !newIssue" click.trigger="cancelEdit()">cancel</button>\n    </div>\n  </div>\n</template>\n'},M3lk:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i("3Fm7");function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function s(e,t,i,n,r,s,a){try{var o=e[s](a),l=o.value}catch(e){return void i(e)}o.done?t(l):Promise.resolve(l).then(n,r)}var a=function(){function e(){this.issues=new Map,this.filteredIssues=new Map,this.updateCount=0,this.db=n.a.firestore()}var t=e.prototype;return t.getIssues=function(){var e=this;return 0===this.issues.size&&this.fetchIssues().then(function(){e.updateCount++}),this.issues},t.fetchIssues=function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.db.collection("issues"),e.next=3,t.get();case 3:return e.sent.forEach(function(e){var t=e.data(),n=r({},e.data(),{id:e.id,latlng:{lat:t.latlng.latitude,lng:t.latlng.longitude},dateCreated:new Date(1e3*t.dateCreated.seconds)});n.dateUpdated&&(n.dateUpdated=new Date(1e3*t.dateUpdated.seconds)),i.issues.set(e.id,n)}),e.abrupt("return",this.issues);case 6:case"end":return e.stop()}},e,this)}),function(){var t=this,i=arguments;return new Promise(function(n,r){var a=e.apply(t,i);function o(e){s(a,n,r,o,l,"next",e)}function l(e){s(a,n,r,o,l,"throw",e)}o(void 0)})});return function(){return t.apply(this,arguments)}}(),t.getIssue=function(e){return this.issues.get(e)},t.upsertIssue=function(e){if(e.id){var t=r({},e,{dateUpdated:new Date,dateCreated:new Date(e.dateCreated),latlng:new n.a.firestore.GeoPoint(e.latlng.lat,e.latlng.lng)});return this.updateCount++,console.log(t),this.db.collection("issues").doc(t.id+"").set(t),t}var i=new Date,s=r({},e,{dateCreated:i,dateUpdated:i,latlng:new n.a.firestore.GeoPoint(e.latlng.lat,e.latlng.lng),author:n.a.auth().currentUser.uid});return this.updateCount++,console.log(s),this.db.collection("issues").add(s),s},t.removeIssue=function(e){return this.updateCount++,this.db.collection("issues").doc(e+"").delete()},e}()},MapView:function(e,t,i){"use strict";i.r(t),i.d(t,"MapView",function(){return g});var n,r,s,a,o,l=i("aurelia-framework"),u=i("4ysu"),c=i("M3lk");function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,i,n,r){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},s),r&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(r):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var g=(n=Object(l.e)(c.a,u.c),r=Object(l.d)("bounds","issueService.updateCount"),n((o=p((a=function(){var e,t,i,n=r.prototype;function r(e,t){var i,n,r,s,a=this;this.filtered=new Map,this.selectedMarkerId=void 0,i=this,n="latLngZoom",s=this,(r=o)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(s):void 0}),this.selectMarker=function(e){a.issueService.getIssues().has(e)&&(a.selectedMarkerId=e)}.bind(this),this.issueService=e,this.router=t,window.onbeforeunload=function(){return"Are you sure you want to leave?"}}return n.activate=function(e,t){void 0!==e.latLngZoom&&(this.latLngZoom=e.latLngZoom)},n.latLngZoomChanged=function(){this.router.navigateToRoute("home",{latLngZoom:this.latLngZoom})},e=r,(t=[{key:"filteredIssues",get:function(){var e=new Map,t=this.issueService.getIssues(),i=Array.isArray(t),n=0;for(t=i?t:t[Symbol.iterator]();;){var r;if(i){if(n>=t.length)break;r=t[n++]}else{if((n=t.next()).done)break;r=n.value}var s=r,a=s[0],o=s[1];(void 0===this.bounds||this.bounds.contains(o.latlng))&&e.set(a,o)}var l=this.filtered,u=Array.isArray(l),c=0;for(l=u?l:l[Symbol.iterator]();;){var d;if(u){if(c>=l.length)break;d=l[c++]}else{if((c=l.next()).done)break;d=c.value}var p=d;a=p[0],o=p[1],e.has(a)||this.filtered.delete(a)}var g=e,h=Array.isArray(g),f=0;for(g=h?g:g[Symbol.iterator]();;){var m;if(h){if(f>=g.length)break;m=g[f++]}else{if((f=g.next()).done)break;m=f.value}var b=m;a=b[0],o=b[1],this.filtered.set(a,o)}return this.filtered}}])&&d(e.prototype,t),i&&d(e,i),r}()).prototype,"latLngZoom",[l.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"filteredIssues",[r],Object.getOwnPropertyDescriptor(a.prototype,"filteredIssues"),a.prototype),s=a))||s)},"MapView.html":function(e,t,i){e.exports='<template>\n  <require from="./MapWidget"></require>\n  <require from="./IssueList"></require>\n  <div class="no4pxSpace">\n    <issue-list class="list" select-marker.call="selectMarker(id)" selected-marker-id.to-view="selectedMarkerId"\n      issues.bind="filteredIssues"></issue-list>\n    <map-widget class="map" bounds.from-view="bounds" lat-lng-zoom.two-way="latLngZoom" select-marker.call="selectMarker(id)"\n      selected-marker-id.bind="selectedMarkerId" issues.bind="filteredIssues"></map-widget>\n  </div>\n</template>\n'},MapWidget:function(e,t,i){"use strict";i.r(t),i.d(t,"MapWidget",function(){return w});var n,r,s,a,o,l,u,c=i("4R65"),d=(i("pVzX"),i("qQke")),p=i("aurelia-framework"),g=i("VKKZ"),h=i("Issue"),f=i("M3lk"),m=(i("rco4"),i("aurelia-dialog")),b=i("IssueView");function v(e,t,i,n,r,s,a){try{var o=e[s](a),l=o.value}catch(e){return void i(e)}o.done?t(l):Promise.resolve(l).then(n,r)}function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(e,t,i,n,r){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},s),r&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(r):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var w=Object(p.e)(d.a,f.a,p.b,m.DialogService)((s=I((r=function(){var e=t.prototype;function t(e,t,i,n){var r=this;y(this,"selectMarker",s,this),y(this,"selectedMarkerId",a,this),y(this,"issues",o,this),y(this,"bounds",l,this),y(this,"latLngZoom",u,this),this.map=void 0,this.activeRegion=void 0,this.markers=new Map,this.addMarker=function(e,t){var i=t.latlng;if(g.pointInLayer(i,r.activeRegion).length>0){var n=new c.marker(i,{icon:r.getIcon(t)}).addTo(r.map);n.on("click",function(){r.selectMarker({id:e})}),r.markers.set(e,n)}else r.issueService.removeIssue(e)},this.dialogService=n,this.http=e,this.issueService=t,this.bindingEngine=i}return e.issuesChanged=function(){this.bindingEngine.collectionObserver(this.issues).subscribe(this.issuesCollectionChanged.bind(this))},e.latLngZoomChanged=function(){console.log(this.latLngZoom)},e.issuesCollectionChanged=function(e){for(var t=0;t<e.length;t++){var i=e[t].type,n=e[t].key;if("delete"===i){var r=this.markers.get(n);r&&(r.remove(),this.markers.delete(n))}if("add"===i&&this.addMarker(n,this.issueService.getIssue(n)),"update"==i){var s=this.markers.get(n);s&&(s.setIcon(this.getIcon(this.issues.get(n))),s.setLatLng(this.issues.get(n).latlng))}}},e.selectedMarkerIdChanged=function(e,t){var i=this.markers.get(e);i&&i.setIcon(this.getIcon(this.issues.get(e)));var n=this.markers.get(t);n&&n.setIcon(this.getIcon(this.issues.get(t)))},e.addIssue=function(e){var t=this,i=new c.marker(e,{draggable:"true"}).addTo(this.map);this.dialogService.open({viewModel:b.IssueView,model:{latlng:e,editing:!0,newIssue:!0},lock:!1}).whenClosed(function(e){i.remove(),e.wasCancelled||t.selectMarker({id:e.output})})},e.attached=function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,i,n,r,s,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.map=c.map("map",{attributionControl:!1}),this.latLngZoom&&(t=this.latLngZoom.split(","),this.map.setView([t[0],t[1]],t[2])),c.control.locate().addTo(this.map),e.next=5,this.http.fetch("https://nominatim.openstreetmap.org/search.php?q=ada+county+Idaho&polygon_geojson=1&format=geojson");case 5:return i=e.sent,e.next=8,i.json();case 8:n=e.sent,this.activeRegion=c.geoJson(n,{style:{color:"#000",weight:1,opacity:1,fillOpacity:0}}),this.activeRegion.addTo(this.map),this.map.addLayer(c.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{bounds:this.activeRegion.getBounds(),maxZoom:19,minZoom:4})),this.map.locate({enableHighAccuracy:!0,setView:!this.latLngZoom,maxZoom:16}),this.map.on("moveend",function(e){a.bounds=a.map.getBounds(),a.latLngZoom=a.map.getCenter().lat.toFixed(7)+","+a.map.getCenter().lng.toFixed(7)+","+a.map.getZoom()}),this.map.on("click",function(e){r=setTimeout(function(){s||a.addIssue(e.latlng),s=!1}.bind(a),300)}).on("dblclick",function(){clearTimeout(r),s=!0});case 16:case"end":return e.stop()}},e,this)}),function(){var t=this,i=arguments;return new Promise(function(n,r){var s=e.apply(t,i);function a(e){v(s,n,r,a,o,"next",e)}function o(e){v(s,n,r,a,o,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}(),e.getIcon=function(e){var t=this.selectedMarkerId==e.id?"selectedMarker":"unselectedMarker";return c.Icon.Glyph.MDI=c.Icon.Glyph.extend({options:{prefix:"fas",iconUrl:"marker.png",shadowUrl:"shadow.png",iconAnchor:[24,48],shadowSize:[48,48],iconSize:[48,48],shadowAnchor:[0,28]}}),c.icon.glyph.mdi=function(e){return new c.Icon.Glyph.MDI(e)},c.icon.glyph.mdi({className:t,prefix:"fas",glyph:h.Issue.mapping[e.issueType].glyph,glyphSize:"18px",glyphAnchor:[0,-6]})},e.pointIsInVisibleMap=function(e){return this.map.getBounds().contains(e)},e.displayPopup=function(e){c.popup().setLatLng({lat:this.markers.get(e)._latlng.lat,lng:this.markers.get(e)._latlng.lng}).setContent(this.issues.get(e).description).openOn(this.map)},t}()).prototype,"selectMarker",[p.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=I(r.prototype,"selectedMarkerId",[p.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=I(r.prototype,"issues",[p.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=I(r.prototype,"bounds",[p.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=I(r.prototype,"latLngZoom",[p.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=r))||n},"MapWidget.html":function(e,t,i){e.exports='<template>\n  <require from="leaflet/dist/leaflet.css"></require>\n  <require from="leaflet.locatecontrol/dist/L.Control.Locate.min.css"></require>\n  <require from="app.css"></require>\n  <div class="overlay">\n    <div id=\'map\'></div>\n    <img class="overlayIcon" src="'+i("kZno")+'">\n    <div class="overlayedControls">\n      <button class="addButton" click.trigger="addIssue(map.getCenter())">+</button>\n    </div>\n  </div>\n\n</template>\n'},OFPu:function(e,t,i){"use strict";t.a={debug:!1,testing:!1}},app:function(e,t,i){"use strict";i.r(t),i.d(t,"App",function(){return s});i("70NS");var n=i("3Fm7"),r=i("I5iV"),s=(i("ybns"),function(){function e(){var e=this;this.signInWithPopup=function(){window.open("/","login","width=985,height=735")},this.logout=function(){n.a.auth().signOut()},n.a.auth().onAuthStateChanged(function(i){i?e.user=i:(e.user=void 0,e.ui.start("#firebaseui-auth-container",t))}),this.ui=new r.a.AuthUI(n.a.auth());var t={signInFlow:"popup",signInSuccessUrl:"http://localhost:8080",signInOptions:[{provider:n.a.auth.EmailAuthProvider.PROVIDER_ID,signInMethod:n.a.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD}],callbacks:{signInSuccess:function(e,t,i){return!1}},credentialHelper:r.a.CredentialHelper.NONE}}return e.prototype.configureRouter=function(e,t){this.router=t,e.title="suptown",e.map([{route:[":latLngZoom?"],name:"home",id:"home",moduleId:"MapView"},{route:["issue/:id"],name:"issue",moduleId:"IssueView"}])},e}())},"app.css":function(e,t,i){(e.exports=i("I1BE")(!1)).push([e.i," body, html {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  font-family:Helvetica, Arial, sans-serif;\n  font-size: 14px;\n }\n\n.overlay {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.overlayIcon {\n  display: block;\n  position: absolute;\n  top: calc(50% - 20px);\n  left: calc(50% - 20px);\n  z-index: 400;\n  width: 40px;\n  height: 40px;\n}\n.overlayedControls {\n  display: block;\n  position: absolute;\n  bottom: 40px;\n  right: 40px;\n  z-index: 400;\n}\n.addButton {\n  font-size: 40px;\n  height: 60px;\n  width: 60px;\n  border-radius: 60px;\n}\n#map {\n  width: 100%;\n  height: 100%;\n}\n.leaflet-interactive{\n  cursor: grab;\n}\n\n.leaflet-marker-draggable {\n  cursor: move !important;\n}\n.list {\n  vertical-align: top;\n  display: inline-block;\n  width: 250px;\n  min-height: calc(100% - 10px);\n  padding: 5px;\n  overflow: auto;\n  border-right: 1px solid rgb(200, 200, 200);\n}\n.map {\n  vertical-align: top;\n  display: inline-block;\n  width: calc(100% - 250px);\n  height: 100%;\n}\n.no4pxSpace {\n  height: 100%;\n  display: flex;\n}\n.leaflet-popup {\n  margin-bottom: 60px;\n}\nissue {\n  display: block;\n  margin-bottom: 5px;\n  padding: 10px;\n  cursor: pointer;\n  border-radius: 4px;\n}\n.selected {\n  border-radius: 3px;\n  border: 1px solid rgb(150, 150, 150);\n  background-color: rgba(117, 189, 248, 0.9);\n}\n.unselected {\n  border-radius: 3px;\n  border: 1px solid rgb(150, 150, 150);\n  background-color: rgba(78, 165, 70, 0.6);\n}\n.unselectedMarker {\n  -webkit-filter: hue-rotate(240deg) saturate(3.6) grayscale(70%);\n  filter: hue-rotate(240deg) saturate(3.6) grayscale(70%);\n  cursor: pointer;\n}\n.selectedMarker{\n  cursor: pointer;\n}\n.issueTypeOption {\n  background-color: rgba(78, 165, 70, 0.6);\n  padding: 10px;\n  margin: 5px;\n  cursor: pointer;\n  display: inline-block;\n  width: 80px;\n  border-radius: 3px;\n  text-align: center;\n  border: 1px solid rgb(150, 150, 150);\n}\n.selectedIssueType {\n  background-color: rgba(117, 189, 248, 0.9);\n}\n.modalMap {\n  height: 100px !important;\n}\n.issueView{\n  background: white;\n  padding: 20px;\n}\n",""])},"app.html":function(e,t){e.exports='<template>\r\n  <div id="firebaseui-auth-container"></div>\r\n  <div if.bind="user">\r\n    ${user.displayName} - ${user.email}\r\n    <button click.delegate="logout()">logout</button>\r\n  </div>\r\n  <router-view></router-view>\r\n</template>\r\n'},kZno:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGHRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4xLjVkR1hSAAAC80lEQVRYR83YS6hNURzH8Zs8IgMlA1yUDDySASPJnSDKQJJXFCEkQjdRcmJAJgwNTJAkpCQGHmHgMRElUhRy5R0GlMfF76v1r3/bn+5ajtq3PnXO7672/u1z9t5r7dPSaDSaZa28kK9yVoZKNC5LGBZYJj/ki7xMr+9JL4nGd1kYFngknTJReshFoeRcicZ3WRhmGiCUueWyRSnb5bIiYZiJc40yV1w2J2W7XVYkDDNFBRekbKfLioRhpuFCmXMuq1XBUUIZbi2W2Tm43WVFwjBTVNBuO1tdViQMM40RypxyWa0KjhfKnHDZipRtcVmRMMwUFVyXso0uKxKGmazgUZfVquBkocwhl1nBDS4rEoaZooKbU7bSZUXCMJMVPOCy/1awr/RLeM3KxFTHmmlCmX0ua3rBJfJA2OiffHM+yLvkvfB/X5AZhOyp3BZWOtecC3I+OSPcQ3FcOFXWCx/Sr4KrhY19l/vCBg3vKY7H8ix5LlYQn2S5WEHmYtaHdnAlOmQkG7PF5lSxHTRDN+ktdsr0l0FJq4xwxsq4pE2OCCUvs6GPwlf2z8vzJuLgeL7p5M1Joe0lmSczhBOfq9NMcJh7RycstYbJYKnuhE+vT8IOq///m1nCt9rBGz7yO+K//xKrxHawJmWRz8K3Bi6wVwmfGOf5a2Ec18RS22BPmS97hKsR++VgcliYaw1LK8PTGxvcIba9vSl7InflobBzu9Cs1FuxsrADuCGzpSk36sVSLcgBkk13WZEwzGQF+bOsVgWZLSjD7GGZFZzisiJhmCkqyGxAxh3Aj80Whpms4CaX1aogaz7KsAa0zApOclmRMMzEqrla8FjKWG37sdnCMFNUkHtlbQry5EYZHjUtq1VBnn2rBU+njId6PzZbGGaKCjIF1qYgUxxlFrqsVgW3CWX4NcGy6ykb4rIiYZhpplDmqrDoZc3IcwvLp9x14G/CMFN3uSmUfCMsl3jNr/7R+CxhWGCg8FTGr/ys89olGpep0fITeFlY21RGDnIAAAAASUVORK5CYII="},main:function(e,t,i){"use strict";i.d(t,"configure",function(){return r});i("LSZE"),i("ls82");var n=i("OFPu");i("70NS");function r(e){e.use.standardConfiguration().plugin("aurelia-dialog",function(e){e.useDefaults(),e.settings.startingZIndex=1001}).feature("resources/index"),e.use.developmentLogging(n.a.debug?"debug":"warn"),n.a.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot("app")})}},"resources/index":function(e,t,i){"use strict";i.r(t),i.d(t,"configure",function(){return s});var n=i("4R65"),r=i.n(n);function s(e){}delete r.a.Icon.Default.prototype._getIconUrl,r.a.Icon.Default.mergeOptions({iconRetinaUrl:i("WE1v"),iconUrl:i("Y5fm"),shadowUrl:i("4rkx")})}},[[0,2,6,11,15,10,12,18,16,8,14,3,5,17,7,13,9,19,4,20]]]);
//# sourceMappingURL=app~d0ae3f07.a6aea079faaec8892d77.bundle.map